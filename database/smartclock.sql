-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Oct 25, 2025 at 07:17 AM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `smartclock`
--

-- --------------------------------------------------------

--
-- Table structure for table `absensi`
--

CREATE TABLE `absensi` (
  `id` int(11) NOT NULL,
  `karyawan_id` int(11) NOT NULL,
  `tanggal` date NOT NULL,
  `jam_masuk` time DEFAULT NULL,
  `jam_keluar` time DEFAULT NULL,
  `status` enum('hadir','terlambat','izin','alpha') NOT NULL DEFAULT 'hadir'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `absensi`
--

INSERT INTO `absensi` (`id`, `karyawan_id`, `tanggal`, `jam_masuk`, `jam_keluar`, `status`) VALUES
(3, 1, '2025-10-01', '08:05:00', '16:00:00', 'terlambat'),
(4, 1, '2025-10-02', '07:40:00', '18:10:00', 'hadir'),
(5, 1, '2025-10-03', '07:55:00', '16:05:00', 'hadir'),
(6, 1, '2025-10-06', '07:35:00', '19:00:00', 'hadir'),
(7, 1, '2025-10-07', '07:50:00', '16:30:00', 'hadir'),
(8, 1, '2025-10-08', '08:10:00', '16:15:00', 'terlambat'),
(9, 1, '2025-10-09', '07:55:00', '18:45:00', 'hadir'),
(10, 1, '2025-10-10', '07:50:00', '20:00:00', 'hadir'),
(11, 1, '2025-10-13', '08:05:00', '16:10:00', 'terlambat'),
(12, 1, '2025-10-14', '07:45:00', '16:00:00', 'hadir'),
(13, 1, '2025-10-15', '07:55:00', '17:45:00', 'hadir'),
(14, 1, '2025-10-16', '07:35:00', '19:30:00', 'hadir'),
(15, 1, '2025-10-17', '08:20:00', '16:00:00', 'terlambat'),
(16, 1, '2025-10-20', '07:40:00', '16:10:00', 'hadir'),
(17, 1, '2025-10-21', '07:45:00', '18:30:00', 'hadir'),
(18, 1, '2025-10-22', '07:55:00', '16:05:00', 'hadir'),
(19, 1, '2025-10-23', '07:35:00', '16:39:09', 'hadir'),
(20, 1, '2025-10-24', '07:50:00', '16:30:00', 'hadir'),
(21, 1, '2025-10-27', '07:55:00', '16:00:00', 'hadir'),
(22, 1, '2025-10-28', '07:40:00', '17:55:00', 'hadir'),
(23, 1, '2025-10-29', '08:10:00', '16:05:00', 'terlambat'),
(24, 1, '2025-10-30', '07:45:00', '16:15:00', 'hadir'),
(25, 1, '2025-10-31', '07:50:00', '18:00:00', 'hadir'),
(28, 2, '2025-10-01', '07:55:00', '17:30:00', 'hadir'),
(29, 2, '2025-10-02', '08:15:00', '16:00:00', 'terlambat'),
(30, 2, '2025-10-03', '08:05:00', '16:20:00', 'terlambat'),
(31, 2, '2025-10-06', '08:00:00', '16:05:00', 'hadir'),
(32, 2, '2025-10-07', NULL, NULL, 'alpha'),
(33, 2, '2025-10-08', '07:45:00', '16:15:00', 'hadir'),
(34, 2, '2025-10-09', '08:25:00', '16:00:00', 'terlambat'),
(35, 2, '2025-10-10', '08:35:00', '15:50:00', 'terlambat'),
(36, 2, '2025-10-13', '08:20:00', '16:00:00', 'terlambat'),
(37, 2, '2025-10-14', '08:10:00', '16:10:00', 'terlambat'),
(38, 2, '2025-10-15', '07:50:00', '16:15:00', 'hadir'),
(39, 2, '2025-10-16', '08:30:00', '16:00:00', 'terlambat'),
(40, 2, '2025-10-17', '07:45:00', '18:45:00', 'hadir'),
(41, 2, '2025-10-20', '08:15:00', '16:00:00', 'terlambat'),
(42, 2, '2025-10-21', '08:05:00', '16:05:00', 'terlambat'),
(43, 2, '2025-10-22', '08:25:00', '15:55:00', 'terlambat'),
(44, 2, '2025-10-23', '08:00:00', '17:41:28', 'hadir'),
(45, 2, '2025-10-24', '08:10:00', '16:00:00', 'terlambat'),
(46, 2, '2025-10-27', '08:05:00', '16:05:00', 'terlambat'),
(47, 2, '2025-10-28', '08:30:00', '16:00:00', 'terlambat'),
(48, 2, '2025-10-29', '07:50:00', '17:30:00', 'hadir'),
(49, 2, '2025-10-30', '08:15:00', '16:00:00', 'terlambat'),
(50, 2, '2025-10-31', '08:05:00', '16:10:00', 'terlambat'),
(53, 3, '2025-10-01', '07:55:00', '17:30:00', 'hadir'),
(54, 3, '2025-10-02', '08:00:00', '16:00:00', 'hadir'),
(55, 3, '2025-10-03', '07:45:00', '19:10:00', 'hadir'),
(56, 3, '2025-10-06', '07:50:00', '16:05:00', 'hadir'),
(57, 3, '2025-10-07', '07:45:00', '16:10:00', 'hadir'),
(58, 3, '2025-10-08', '07:55:00', '16:15:00', 'hadir'),
(59, 3, '2025-10-09', '08:05:00', '16:00:00', 'terlambat'),
(60, 3, '2025-10-10', '07:40:00', '17:30:00', 'hadir'),
(61, 3, '2025-10-13', '07:55:00', '16:00:00', 'hadir'),
(62, 3, '2025-10-14', '07:50:00', '16:00:00', 'hadir'),
(63, 3, '2025-10-15', '08:10:00', '16:05:00', 'terlambat'),
(64, 3, '2025-10-16', '07:45:00', '16:00:00', 'hadir'),
(65, 3, '2025-10-17', NULL, NULL, 'izin'),
(66, 3, '2025-10-20', '07:55:00', '16:00:00', 'hadir'),
(67, 3, '2025-10-21', '07:50:00', '18:45:00', 'hadir'),
(68, 3, '2025-10-22', '08:00:00', '16:00:00', 'hadir'),
(69, 3, '2025-10-23', '07:45:00', '16:10:00', 'hadir'),
(70, 3, '2025-10-24', '07:55:00', '16:15:00', 'hadir'),
(71, 3, '2025-10-27', '08:05:00', '16:00:00', 'terlambat'),
(72, 3, '2025-10-28', '07:45:00', '16:05:00', 'hadir'),
(73, 3, '2025-10-29', '07:55:00', '17:30:00', 'hadir'),
(74, 3, '2025-10-30', '07:50:00', '16:00:00', 'hadir'),
(75, 3, '2025-10-31', '07:55:00', '16:05:00', 'hadir'),
(78, 4, '2025-10-01', '08:10:00', '16:05:00', 'terlambat'),
(79, 4, '2025-10-02', NULL, NULL, 'alpha'),
(80, 4, '2025-10-03', '07:45:00', '16:00:00', 'hadir'),
(81, 4, '2025-10-06', '08:20:00', '15:55:00', 'terlambat'),
(82, 4, '2025-10-07', '07:50:00', '16:05:00', 'hadir'),
(83, 4, '2025-10-08', '08:15:00', '16:00:00', 'terlambat'),
(84, 4, '2025-10-09', '08:00:00', '16:00:00', 'hadir'),
(85, 4, '2025-10-10', '07:45:00', '17:00:00', 'hadir'),
(86, 4, '2025-10-13', '08:25:00', '16:00:00', 'terlambat'),
(87, 4, '2025-10-14', '08:15:00', '16:00:00', 'terlambat'),
(88, 4, '2025-10-15', '07:55:00', '16:10:00', 'hadir'),
(89, 4, '2025-10-16', '08:10:00', '16:00:00', 'terlambat'),
(90, 4, '2025-10-17', NULL, NULL, 'izin'),
(91, 4, '2025-10-20', '07:50:00', '16:00:00', 'hadir'),
(92, 4, '2025-10-21', '07:55:00', '16:05:00', 'hadir'),
(93, 4, '2025-10-22', '08:00:00', '16:00:00', 'hadir'),
(94, 4, '2025-10-23', '08:05:00', '16:00:00', 'terlambat'),
(95, 4, '2025-10-24', '07:55:00', '17:45:00', 'hadir'),
(96, 4, '2025-10-27', '07:45:00', '16:00:00', 'hadir'),
(97, 4, '2025-10-28', '08:20:00', '16:00:00', 'terlambat'),
(98, 4, '2025-10-29', '08:10:00', '16:00:00', 'terlambat'),
(99, 4, '2025-10-30', '08:00:00', '16:00:00', 'hadir'),
(100, 4, '2025-10-31', '08:15:00', '16:05:00', 'terlambat'),
(103, 5, '2025-10-01', '07:45:00', '16:00:00', 'hadir'),
(104, 5, '2025-10-02', '07:55:00', '18:00:00', 'hadir'),
(105, 5, '2025-10-03', '07:50:00', '16:05:00', 'hadir'),
(106, 5, '2025-10-06', '07:45:00', '17:15:00', 'hadir'),
(107, 5, '2025-10-07', '07:55:00', '16:05:00', 'hadir'),
(108, 5, '2025-10-08', '07:45:00', '16:00:00', 'hadir'),
(109, 5, '2025-10-09', '07:55:00', '16:00:00', 'hadir'),
(110, 5, '2025-10-10', '07:50:00', '16:05:00', 'hadir'),
(111, 5, '2025-10-13', '07:55:00', '16:00:00', 'hadir'),
(112, 5, '2025-10-14', '07:45:00', '16:15:00', 'hadir'),
(113, 5, '2025-10-15', '07:55:00', '16:00:00', 'hadir'),
(114, 5, '2025-10-16', '07:50:00', '16:10:00', 'hadir'),
(115, 5, '2025-10-17', '07:55:00', '16:00:00', 'hadir'),
(116, 5, '2025-10-20', '07:50:00', '16:05:00', 'hadir'),
(117, 5, '2025-10-21', '07:55:00', '16:10:00', 'hadir'),
(118, 5, '2025-10-22', '07:45:00', '16:00:00', 'hadir'),
(119, 5, '2025-10-23', '07:50:00', '16:00:00', 'hadir'),
(120, 5, '2025-10-24', '07:55:00', '17:00:00', 'hadir'),
(121, 5, '2025-10-27', '07:45:00', '16:00:00', 'hadir'),
(122, 5, '2025-10-28', '07:55:00', '16:00:00', 'hadir'),
(123, 5, '2025-10-29', '07:50:00', '16:00:00', 'hadir'),
(124, 5, '2025-10-30', '07:55:00', '16:05:00', 'hadir'),
(125, 5, '2025-10-31', '07:45:00', '16:00:00', 'hadir'),
(128, 6, '2025-10-01', '07:50:00', '16:05:00', 'hadir'),
(129, 6, '2025-10-02', NULL, NULL, 'izin'),
(130, 6, '2025-10-03', '08:20:00', '16:00:00', 'terlambat'),
(131, 6, '2025-10-06', '07:45:00', '16:05:00', 'hadir'),
(132, 6, '2025-10-07', '07:55:00', '16:15:00', 'hadir'),
(133, 6, '2025-10-08', '08:05:00', '16:00:00', 'terlambat'),
(134, 6, '2025-10-09', '08:00:00', '16:00:00', 'hadir'),
(135, 6, '2025-10-10', '07:45:00', '16:30:00', 'hadir'),
(136, 6, '2025-10-13', NULL, NULL, 'izin'),
(137, 6, '2025-10-14', '08:00:00', '16:00:00', 'hadir'),
(138, 6, '2025-10-15', '07:45:00', '16:10:00', 'hadir'),
(139, 6, '2025-10-16', '08:05:00', '16:00:00', 'terlambat'),
(140, 6, '2025-10-17', '07:55:00', '16:15:00', 'hadir'),
(141, 6, '2025-10-20', '07:45:00', '16:00:00', 'hadir'),
(142, 6, '2025-10-21', '08:10:00', '16:00:00', 'terlambat'),
(143, 6, '2025-10-22', '07:55:00', '16:05:00', 'hadir'),
(144, 6, '2025-10-23', '08:00:00', '19:13:17', 'hadir'),
(145, 6, '2025-10-24', NULL, NULL, 'izin'),
(146, 6, '2025-10-27', '07:45:00', '16:00:00', 'hadir'),
(147, 6, '2025-10-28', '08:05:00', '16:00:00', 'terlambat'),
(148, 6, '2025-10-29', '07:50:00', '16:00:00', 'hadir'),
(149, 6, '2025-10-30', '07:55:00', '16:05:00', 'hadir'),
(150, 6, '2025-10-31', '07:45:00', '16:00:00', 'hadir'),
(153, 7, '2025-10-01', '08:10:00', '16:00:00', 'terlambat'),
(154, 7, '2025-10-02', '07:45:00', '16:00:00', 'hadir'),
(155, 7, '2025-10-03', NULL, NULL, 'izin'),
(156, 7, '2025-10-06', '07:55:00', '18:00:00', 'hadir'),
(157, 7, '2025-10-07', '07:45:00', '16:00:00', 'hadir'),
(158, 7, '2025-10-08', '08:20:00', '16:00:00', 'terlambat'),
(159, 7, '2025-10-09', '07:50:00', '16:00:00', 'hadir'),
(160, 7, '2025-10-10', '07:55:00', '19:30:00', 'hadir'),
(161, 7, '2025-10-13', '08:05:00', '16:00:00', 'terlambat'),
(162, 7, '2025-10-14', '07:50:00', '17:15:00', 'hadir'),
(163, 7, '2025-10-15', '07:55:00', '16:00:00', 'hadir'),
(164, 7, '2025-10-16', NULL, NULL, 'izin'),
(165, 7, '2025-10-17', '08:10:00', '16:00:00', 'terlambat'),
(166, 7, '2025-10-20', '07:50:00', '16:30:00', 'hadir'),
(167, 7, '2025-10-21', '07:55:00', '17:00:00', 'hadir'),
(168, 7, '2025-10-22', '08:15:00', '16:00:00', 'terlambat'),
(169, 7, '2025-10-23', '08:05:00', '16:00:00', 'terlambat'),
(170, 7, '2025-10-24', '07:55:00', '18:45:00', 'hadir'),
(171, 7, '2025-10-27', '07:45:00', '16:00:00', 'hadir'),
(172, 7, '2025-10-28', NULL, NULL, 'izin'),
(173, 7, '2025-10-29', '07:55:00', '16:05:00', 'hadir'),
(174, 7, '2025-10-30', '07:50:00', '16:10:00', 'hadir'),
(175, 7, '2025-10-31', '08:10:00', '16:00:00', 'terlambat'),
(178, 8, '2025-10-01', '08:05:00', '16:00:00', 'terlambat'),
(179, 8, '2025-10-02', NULL, NULL, 'alpha'),
(180, 8, '2025-10-03', '07:50:00', '16:00:00', 'hadir'),
(181, 8, '2025-10-06', '08:10:00', '16:00:00', 'terlambat'),
(182, 8, '2025-10-07', '08:20:00', '16:00:00', 'terlambat'),
(183, 8, '2025-10-08', NULL, NULL, 'alpha'),
(184, 8, '2025-10-09', '07:50:00', '16:00:00', 'hadir'),
(185, 8, '2025-10-10', '08:00:00', '16:00:00', 'hadir'),
(186, 8, '2025-10-13', '08:25:00', '16:00:00', 'terlambat'),
(187, 8, '2025-10-14', '07:55:00', '16:00:00', 'hadir'),
(188, 8, '2025-10-15', '08:05:00', '16:00:00', 'terlambat'),
(189, 8, '2025-10-16', NULL, NULL, 'alpha'),
(190, 8, '2025-10-17', '07:55:00', '16:00:00', 'hadir'),
(191, 8, '2025-10-20', '08:15:00', '16:00:00', 'terlambat'),
(192, 8, '2025-10-21', '08:25:00', '16:00:00', 'terlambat'),
(193, 8, '2025-10-22', '08:00:00', '16:00:00', 'hadir'),
(194, 8, '2025-10-23', NULL, NULL, 'alpha'),
(195, 8, '2025-10-24', '07:50:00', '16:00:00', 'hadir'),
(196, 8, '2025-10-27', '08:00:00', '16:00:00', 'hadir'),
(197, 8, '2025-10-28', '08:20:00', '16:00:00', 'terlambat'),
(198, 8, '2025-10-29', NULL, NULL, 'alpha'),
(199, 8, '2025-10-30', '07:55:00', '16:00:00', 'hadir'),
(200, 8, '2025-10-31', '08:10:00', '16:00:00', 'terlambat'),
(203, 9, '2025-10-01', '07:55:00', '16:10:00', 'hadir'),
(204, 9, '2025-10-02', '07:50:00', '16:15:00', 'hadir'),
(205, 9, '2025-10-03', '08:00:00', '16:00:00', 'hadir'),
(206, 9, '2025-10-06', '07:45:00', '16:00:00', 'hadir'),
(207, 9, '2025-10-07', NULL, NULL, 'izin'),
(208, 9, '2025-10-08', '07:55:00', '16:00:00', 'hadir'),
(209, 9, '2025-10-09', '08:00:00', '16:00:00', 'hadir'),
(210, 9, '2025-10-10', '07:50:00', '16:00:00', 'hadir'),
(211, 9, '2025-10-13', NULL, NULL, 'izin'),
(212, 9, '2025-10-14', '07:55:00', '16:00:00', 'hadir'),
(213, 9, '2025-10-15', '07:50:00', '16:00:00', 'hadir'),
(214, 9, '2025-10-16', '07:45:00', '16:00:00', 'hadir'),
(215, 9, '2025-10-17', '08:10:00', '16:00:00', 'terlambat'),
(216, 9, '2025-10-20', '07:55:00', '16:00:00', 'hadir'),
(217, 9, '2025-10-21', '07:50:00', '16:00:00', 'hadir'),
(218, 9, '2025-10-22', '07:45:00', '16:00:00', 'hadir'),
(219, 9, '2025-10-23', NULL, NULL, 'izin'),
(220, 9, '2025-10-24', '07:55:00', '16:00:00', 'hadir'),
(221, 9, '2025-10-27', '07:45:00', '16:00:00', 'hadir'),
(222, 9, '2025-10-28', '07:50:00', '16:00:00', 'hadir'),
(223, 9, '2025-10-29', '07:55:00', '16:00:00', 'hadir'),
(224, 9, '2025-10-30', '08:00:00', '16:00:00', 'hadir'),
(225, 9, '2025-10-31', '07:45:00', '16:00:00', 'hadir'),
(228, 10, '2025-10-01', '07:50:00', '16:00:00', 'hadir'),
(229, 10, '2025-10-02', '08:15:00', '16:00:00', 'terlambat'),
(230, 10, '2025-10-03', NULL, NULL, 'alpha'),
(231, 10, '2025-10-06', '08:00:00', '16:00:00', 'hadir'),
(232, 10, '2025-10-07', '08:05:00', '16:00:00', 'terlambat'),
(233, 10, '2025-10-08', '08:15:00', '16:00:00', 'terlambat'),
(234, 10, '2025-10-09', '08:20:00', '16:00:00', 'terlambat'),
(235, 10, '2025-10-10', '07:55:00', '16:00:00', 'hadir'),
(236, 10, '2025-10-13', '08:05:00', '16:00:00', 'terlambat'),
(237, 10, '2025-10-14', '08:15:00', '16:00:00', 'terlambat'),
(238, 10, '2025-10-15', '08:00:00', '16:00:00', 'hadir'),
(239, 10, '2025-10-16', '08:25:00', '16:00:00', 'terlambat'),
(240, 10, '2025-10-17', NULL, NULL, 'alpha'),
(241, 10, '2025-10-20', '07:55:00', '16:00:00', 'hadir'),
(242, 10, '2025-10-21', '08:05:00', '16:00:00', 'hadir'),
(243, 10, '2025-10-22', '08:20:00', '16:00:00', 'terlambat'),
(244, 10, '2025-10-23', '08:10:00', '16:00:00', 'terlambat'),
(245, 10, '2025-10-24', '08:05:00', '16:00:00', 'terlambat'),
(246, 10, '2025-10-27', '07:55:00', '16:00:00', 'hadir'),
(247, 10, '2025-10-28', '08:00:00', '16:00:00', 'hadir'),
(248, 10, '2025-10-29', '08:25:00', '16:00:00', 'terlambat'),
(249, 10, '2025-10-30', '08:15:00', '16:00:00', 'terlambat'),
(250, 10, '2025-10-31', NULL, NULL, 'alpha'),
(255, 12, '2025-10-01', '07:45:00', '16:00:00', 'hadir'),
(256, 12, '2025-10-02', '07:55:00', '18:00:00', 'hadir'),
(257, 12, '2025-10-03', '07:50:00', '16:05:00', 'hadir'),
(258, 12, '2025-10-06', '07:45:00', '17:15:00', 'hadir'),
(259, 12, '2025-10-07', '07:55:00', '16:05:00', 'hadir'),
(260, 12, '2025-10-08', '07:45:00', '16:00:00', 'hadir'),
(261, 12, '2025-10-09', '07:55:00', '20:00:00', 'hadir'),
(262, 12, '2025-10-10', NULL, NULL, 'izin'),
(263, 12, '2025-10-13', '07:55:00', '16:00:00', 'hadir'),
(264, 12, '2025-10-14', '07:45:00', '16:15:00', 'hadir'),
(265, 12, '2025-10-15', '07:55:00', '19:00:00', 'hadir'),
(266, 12, '2025-10-16', '07:50:00', '16:10:00', 'hadir'),
(267, 12, '2025-10-17', '07:55:00', '16:00:00', 'hadir'),
(268, 12, '2025-10-20', '07:50:00', '16:05:00', 'hadir'),
(269, 12, '2025-10-21', '07:55:00', '16:10:00', 'hadir'),
(270, 12, '2025-10-22', '07:45:00', '20:00:00', 'hadir'),
(271, 12, '2025-10-23', '07:50:00', '16:00:00', 'hadir'),
(272, 12, '2025-10-24', '07:55:00', '17:00:00', 'hadir'),
(273, 12, '2025-10-27', '07:45:00', '16:00:00', 'hadir'),
(274, 12, '2025-10-28', NULL, NULL, 'izin'),
(275, 12, '2025-10-29', '07:50:00', '16:00:00', 'hadir'),
(276, 12, '2025-10-30', '07:55:00', '16:05:00', 'hadir'),
(277, 12, '2025-10-31', '07:45:00', '16:00:00', 'hadir'),
(278, 12, '2025-10-25', '06:46:21', '06:46:23', 'hadir');

-- --------------------------------------------------------

--
-- Table structure for table `izin`
--

CREATE TABLE `izin` (
  `id` int(11) NOT NULL,
  `karyawan_id` int(11) NOT NULL,
  `tanggal` date NOT NULL,
  `alasan` enum('Sakit','Izin Pribadi','Cuti','Dinas') NOT NULL,
  `status` enum('pending','disetujui','ditolak') DEFAULT 'pending'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `izin`
--

INSERT INTO `izin` (`id`, `karyawan_id`, `tanggal`, `alasan`, `status`) VALUES
(1, 2, '2025-10-07', 'Cuti', 'ditolak'),
(2, 3, '2025-10-17', 'Sakit', 'disetujui'),
(3, 4, '2025-10-17', 'Dinas', 'disetujui'),
(5, 6, '2025-10-02', 'Cuti', 'disetujui'),
(6, 6, '2025-10-13', 'Izin Pribadi', 'disetujui'),
(7, 6, '2025-10-24', 'Dinas', 'disetujui'),
(8, 7, '2025-10-03', 'Izin Pribadi', 'disetujui'),
(9, 7, '2025-10-16', 'Sakit', 'disetujui'),
(10, 7, '2025-10-28', 'Cuti', 'disetujui'),
(11, 8, '2025-10-02', 'Izin Pribadi', 'ditolak'),
(12, 8, '2025-10-16', 'Cuti', 'ditolak'),
(13, 8, '2025-10-23', 'Izin Pribadi', 'ditolak'),
(14, 8, '2025-10-29', 'Dinas', 'ditolak'),
(15, 9, '2025-10-07', 'Izin Pribadi', 'disetujui'),
(16, 9, '2025-10-13', 'Cuti', 'disetujui'),
(17, 9, '2025-10-23', 'Dinas', 'disetujui'),
(18, 10, '2025-10-03', 'Sakit', 'ditolak'),
(19, 10, '2025-10-17', 'Cuti', 'ditolak'),
(20, 10, '2025-10-31', 'Izin Pribadi', 'ditolak'),
(21, 12, '2025-10-10', 'Izin Pribadi', 'disetujui'),
(22, 12, '2025-10-28', 'Dinas', 'disetujui');

--
-- Triggers `izin`
--
DELIMITER $$
CREATE TRIGGER `izin_insert_sync` AFTER INSERT ON `izin` FOR EACH ROW BEGIN
    IF NEW.status = 'disetujui' THEN
        UPDATE absensi
        SET status = 'izin'
        WHERE karyawan_id = NEW.karyawan_id
        AND tanggal = NEW.tanggal;
    ELSEIF NEW.status = 'ditolak' THEN
        UPDATE absensi
        SET status = 'alpha'
        WHERE karyawan_id = NEW.karyawan_id
        AND tanggal = NEW.tanggal;
    END IF;
END
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `izin_update_sync` AFTER UPDATE ON `izin` FOR EACH ROW BEGIN
    IF NEW.status = 'disetujui' THEN
        UPDATE absensi
        SET status = 'izin'
        WHERE karyawan_id = NEW.karyawan_id
        AND tanggal = NEW.tanggal;
    ELSEIF NEW.status = 'ditolak' THEN
        UPDATE absensi
        SET status = 'alpha'
        WHERE karyawan_id = NEW.karyawan_id
        AND tanggal = NEW.tanggal;
    END IF;
END
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `karyawan`
--

CREATE TABLE `karyawan` (
  `id` int(11) NOT NULL,
  `nama` varchar(100) NOT NULL,
  `email` varchar(100) NOT NULL,
  `password` varchar(12) NOT NULL,
  `jabatan` varchar(100) DEFAULT NULL,
  `role` enum('karyawan','hrd') DEFAULT 'karyawan'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `karyawan`
--

INSERT INTO `karyawan` (`id`, `nama`, `email`, `password`, `jabatan`, `role`) VALUES
(1, 'Andi Saputra', 'andi@gmail.com', '113456', 'Staff IT', 'karyawan'),
(2, 'Budi Santoso', 'budi@gmail.com', '12456', 'Staff HRD', 'karyawan'),
(3, 'Citra Dewi', 'citra@gmail.com', '133456', 'Staff Keuangan', 'karyawan'),
(4, 'Dedi Firmansyah', 'dedi@gmail.com', '143456', 'Staff Marketing', 'karyawan'),
(5, 'Eka Lestari', 'eka@gmail.com', '153456', 'Staff Produksi', 'karyawan'),
(6, 'Fajar Prasetyo', 'fajar@gmail.com', '163456', 'Staff Admin', 'karyawan'),
(7, 'Gina Ramadhani', 'gina@gmail.com', '173456', 'Staff IT', 'karyawan'),
(8, 'Hadi Susanto', 'hadi@gmail.com', '183456', 'Staff Gudang', 'karyawan'),
(9, 'Intan Permata', 'intan@gmail.com', '193456', 'Staff Sales', 'karyawan'),
(10, 'Wanda Putra', 'wanda@gmail.com', '213456', 'Staff Umum', 'karyawan'),
(11, 'Rina Hartati', 'rina.hrd@gmail.com', '223456', 'Kepala HRD', 'hrd'),
(12, 'Tarida Grace', 'tarida@gmail.com', 'tgw12345', 'UI/UX Designer', 'karyawan');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `absensi`
--
ALTER TABLE `absensi`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `uk_absensi` (`karyawan_id`,`tanggal`);

--
-- Indexes for table `izin`
--
ALTER TABLE `izin`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `uk_izin` (`karyawan_id`,`tanggal`);

--
-- Indexes for table `karyawan`
--
ALTER TABLE `karyawan`
  ADD PRIMARY KEY (`id`),
  ADD UNIQUE KEY `email` (`email`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `absensi`
--
ALTER TABLE `absensi`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=279;

--
-- AUTO_INCREMENT for table `izin`
--
ALTER TABLE `izin`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=23;

--
-- AUTO_INCREMENT for table `karyawan`
--
ALTER TABLE `karyawan`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `absensi`
--
ALTER TABLE `absensi`
  ADD CONSTRAINT `absensi_ibfk_1` FOREIGN KEY (`karyawan_id`) REFERENCES `karyawan` (`id`);

--
-- Constraints for table `izin`
--
ALTER TABLE `izin`
  ADD CONSTRAINT `izin_ibfk_1` FOREIGN KEY (`karyawan_id`) REFERENCES `karyawan` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
